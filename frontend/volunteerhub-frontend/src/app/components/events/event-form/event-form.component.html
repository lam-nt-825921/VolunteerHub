<div class="event-form">
  <h2>{{ event ? 'Sửa sự kiện' : 'Tạo sự kiện mới' }}</h2>

  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="title">Tiêu đề sự kiện *</label>
      <input
        type="text"
        id="title"
        [(ngModel)]="formData.title"
        name="title"
        required
        placeholder="Nhập tiêu đề sự kiện (tối thiểu 5 ký tự)"
        minlength="5"
        maxlength="120"
      />
    </div>

    <div class="form-group">
      <label for="description">Mô tả *</label>
      <textarea
        id="description"
        [(ngModel)]="formData.description"
        name="description"
        required
        rows="4"
        placeholder="Nhập mô tả chi tiết về sự kiện (tối thiểu 20 ký tự)"
        minlength="20"
        maxlength="5000"
      ></textarea>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="startTime">Ngày bắt đầu *</label>
        <input
          type="datetime-local"
          id="startTime"
          [(ngModel)]="formData.startTime"
          name="startTime"
          required
        />
      </div>

      <div class="form-group">
        <label for="endTime">Ngày kết thúc *</label>
        <input
          type="datetime-local"
          id="endTime"
          [(ngModel)]="formData.endTime"
          name="endTime"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label for="location">Địa điểm *</label>
      <input
        type="text"
        id="location"
        [(ngModel)]="formData.location"
        name="location"
        required
        placeholder="Nhập địa điểm tổ chức"
        minlength="3"
      />
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="category">Danh mục *</label>
        <select
          id="category"
          [(ngModel)]="formData.category"
          name="category"
          required
        >
          <option value="">Chọn danh mục</option>
          @for (cat of categories; track cat) {
            <option [value]="cat">{{ cat }}</option>
          }
        </select>
      </div>

      <div class="form-group">
        <label for="visibility">Mức độ hiển thị *</label>
        <select
          id="visibility"
          [(ngModel)]="formData.visibility"
          name="visibility"
          required
        >
          @for (vis of visibilities; track vis.value) {
            <option [value]="vis.value">{{ vis.label }}</option>
          }
        </select>
      </div>
    </div>

    <div class="form-group">
      <label for="coverImage">URL ảnh bìa (tùy chọn)</label>
      <input
        type="url"
        id="coverImage"
        [(ngModel)]="formData.coverImage"
        name="coverImage"
        placeholder="https://example.com/image.jpg"
      />
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Hủy</button>
      <button type="submit" class="btn btn-primary">{{ event ? 'Cập nhật' : 'Tạo sự kiện' }}</button>
    </div>
  </form>
</div>

