<app-navbar></app-navbar>

<main class="signup-page">
  <section class="signup-section">
    <div class="section-container">
      <div class="signup-form-container">
        <div class="form-header">
          <h2>Đăng ký tài khoản</h2>
          <p>Tạo tài khoản của bạn để bắt đầu hành trình tình nguyện</p>
        </div>

        <form (ngSubmit)="onRegister()" class="signup-form">
          <div class="form-group">
            <label for="name">Họ và tên *</label>
            <input
              type="text"
              id="name"
              [(ngModel)]="registerData.name"
              name="name"
              required
              placeholder="Nhập họ và tên của bạn"
              [class.error]="fieldErrors['name']"
              (input)="clearFieldError('name')"
            />
            @if (fieldErrors['name']) {
              <span class="error-message">{{ fieldErrors['name'] }}</span>
            }
          </div>

          <div class="form-group">
            <label for="email">Email *</label>
            <input
              type="email"
              id="email"
              [(ngModel)]="registerData.email"
              name="email"
              required
              placeholder="Nhập email của bạn"
              [class.error]="fieldErrors['email']"
              (input)="clearFieldError('email')"
            />
            @if (fieldErrors['email']) {
              <span class="error-message">{{ fieldErrors['email'] }}</span>
            }
          </div>

          <div class="form-group">
            <label for="password">Mật khẩu *</label>
            <input
              type="password"
              id="password"
              [(ngModel)]="registerData.password"
              name="password"
              required
              placeholder="Nhập mật khẩu (tối thiểu 6 ký tự)"
              minlength="6"
              [class.error]="fieldErrors['password']"
              (input)="clearFieldError('password')"
            />
            @if (fieldErrors['password']) {
              <span class="error-message">{{ fieldErrors['password'] }}</span>
            }
          </div>

          <div class="form-group">
            <label for="confirmPassword">Xác nhận mật khẩu *</label>
            <input
              type="password"
              id="confirmPassword"
              [(ngModel)]="registerData.confirmPassword"
              name="confirmPassword"
              required
              placeholder="Nhập lại mật khẩu"
              [class.error]="fieldErrors['confirmPassword']"
              (input)="clearFieldError('confirmPassword')"
            />
            @if (fieldErrors['confirmPassword']) {
              <span class="error-message">{{ fieldErrors['confirmPassword'] }}</span>
            }
          </div>

          @if (errorMessage) {
            <div class="general-error-message">
              <mat-icon>error</mat-icon>
              <span>{{ errorMessage }}</span>
            </div>
          }

          @if (successMessage) {
            <div class="success-message">
              <mat-icon>check_circle</mat-icon>
              <span>{{ successMessage }}</span>
            </div>
          }

          <button type="submit" class="btn btn-primary" [disabled]="isLoading">
            @if (isLoading) {
              <span>Đang đăng ký...</span>
            } @else {
              <span>Đăng ký</span>
            }
          </button>
        </form>

        <div class="form-footer">
          <p>Đã có tài khoản? <a routerLink="/login" class="link">Đăng nhập ngay</a></p>
        </div>
      </div>
    </div>
  </section>
</main>

<app-footer></app-footer>

